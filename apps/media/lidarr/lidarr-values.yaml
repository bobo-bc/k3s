image:
  repository: ghcr.io/onedr0p/lidarr
  pullPolicy: IfNotPresent

env:
  TZ: America/Vancouver
  PUID: 1000
  PGID: 1000

securityContext:
  runAsUser: 1000
  runAsGroup: 1000
  fsGroup: 1000

service:
  main:
    type: LoadBalancer
    loadBalancerIP: 10.0.0.25
    ports:
      http:
        port: 80
        targetPort: 7878
persistence:
  config:
    enabled: true
    existingClaim: ""
    size: 3Gi
    accessMode: ReadWriteOnce
    storageClass: longhorn
  tv:
    enabled: true
    existingClaim: nfs-pvc-music
    mountPath: /music
    readOnly: false

  torrents:
    enabled: true
    existingClaim: nfs-pvc-torrents
    mountPath: /data
    readOnly: true
initContainers:
  fix-permissions:
    name: fix-permissions
    image: busybox
    command:
      - sh
      - -c
      - "chown -R 1000:1000 /config && chmod -R 775 /config"
    volumeMounts:
      - name: config
        mountPath: /config
