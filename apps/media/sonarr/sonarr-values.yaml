image:
  repository: ghcr.io/onedr0p/sonarr
  pullPolicy: IfNotPresent

env:
  TZ: America/Vancouver
  PUID: 1000
  PGID: 1000

securityContext:
  runAsUser: 1000
  runAsGroup: 1000
  fsGroup: 1000

service:
  main:
    type: LoadBalancer
    loadBalancerIP: 10.0.0.23
    ports:
      http:
        port: 80
        targetPort: 8989
persistence:
  config:
    enabled: true
    existingClaim: ""
    size: 3Gi
    accessMode: ReadWriteOnce
    storageClass: longhorn
  tv:
    enabled: true
    existingClaim: nfs-pvc-tv
    mountPath: /tv
    readOnly: false

  torrents:
    enabled: true
    existingClaim: nfs-pvc-torrents
    mountPath: /data
    readOnly: true
initContainers:
  fix-permissions:
    name: fix-permissions
    image: busybox
    command:
      - sh
      - -c
      - "chown -R 1000:1000 /config && chmod -R 775 /config"
    volumeMounts:
      - name: config
        mountPath: /config

podAnnotations:
  gethomepage.dev/enabled: "true"
  gethomepage.dev/name: "Sonarr"
  gethomepage.dev/description: "TV show manager"
  gethomepage.dev/group: "Media"
  gethomepage.dev/icon: "sonarr.png"
  gethomepage.dev/url: "http://sonarr.lan"

podLabels:
  app.kubernetes.io/part-of: homepage
