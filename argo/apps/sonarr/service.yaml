apiVersion: v1
kind: Service
metadata:
  name: sonarr
  namespace: media
  annotations:
    homepage.sh/name: "Sonarr"
    homepage.sh/description: "TV Show Downloader"
    homepage.sh/group: "Media"
    homepage.sh/icon: "sonarr"
    homepage.sh/url: "http://sonarr.lan"
spec:
  type: ClusterIP
  ports:
    - name: http
      port: 80            # ðŸ‘ˆ This should be 80 so that Ingress forwards cleanly to it
      targetPort: 8989    # ðŸ‘ˆ Still routes to the containerâ€™s internal port
      protocol: TCP
  selector:
    app.kubernetes.io/name: sonarr
    app.kubernetes.io/instance: sonarr
